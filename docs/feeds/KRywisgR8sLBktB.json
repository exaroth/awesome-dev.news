{"id":"KRywisgR8sLBktB","title":"JS/Frontend","displayTitle":"JS/Frontend","url":"","feedLink":"","isQuery":true,"isEmpty":false,"isHidden":false,"itemCount":12,"items":[{"title":"Conditional types in TypeScript","url":"https://2ality.com/2025/02/conditional-types-typescript.html","date":1739577600,"author":"Dr. Axel Rauschmayer","guid":224,"unread":true,"content":"<p>In TypeScript, conditional types let us make decisions (think if-then-else expressions) ‚Äì which is especially useful in generic types. They are also an essential tool for working with union types because they let use ‚Äúloop‚Äù over them. Read on if you want to know how all of that works.</p>","contentLength":291,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Handwriting an SVG Heart, With Our Hearts","url":"https://css-tricks.com/handwriting-an-svg-heart-with-our-hearts/","date":1739539512,"author":"Ryan Trimble","guid":262,"unread":true,"content":"<p>According to local grocery stores, it‚Äôs the Valentine‚Äôs Day season again, and what better way to express our love than with the symbol of love: . A while back on CSS-Tricks, <a href=\"https://css-tricks.com/hearts-in-html-and-css/\">we shared several ways to draw hearts</a>, and the response was dreamy. Check out all these amazing, heart-filled submissions in this <a href=\"http://codepen.io/collection/AOybyj/\" rel=\"noopener\">collection on CodePen</a>:</p><p>Temani Afif‚Äôs <a href=\"https://css-shape.com/heart/\" rel=\"noopener\">CSS Shapes</a> site offers a super modern heart using only CSS:</p><p>Now, to show  love, I wanted to do something personal, something crafty, something with a mild amount of effort.</p><p>Handwriting a love note is a classic romantic gesture, but have you considered handwriting an SVG? We won‚Äôt need some fancy vector drawing tool to express our love. Instead, we can open a blank HTML document and add an  tag:</p><p>We‚Äôll need a way to see what we are doing inside the ‚ÄúSVG realm‚Äù (as I like to call it), which is what the  attribute provides. The 2D plane upon which vector graphics render is as infinite as our love, quite literally, complete with an x- and y-axis and all (like from math class).</p><p>We‚Äôll set the start coordinates as  and end coordinates as  to make a handsome, square . Oh, and by the way, we don‚Äôt concern ourselves over pixels,  values, or any other unit types; this is , and we play by our own rules.</p><p>We add in these coordinates to the  as a string of values:</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;svg viewBox=\"0 0 10 10\"&gt;\n\n&lt;/svg&gt;</code></pre><p>Now we can begin drawing our heart,  our heart. Let‚Äôs make a line. To do that, we‚Äôll need to know a lot more about coordinates, and where to stick ‚Äôem. We‚Äôre able to draw a line with many points using the  element, which defines paths using the  attribute. <a href=\"https://css-tricks.com/how-to-simplify-svg-code-using-basic-shapes/\">SVG path commands are difficult to memorize</a>, but the effort means you care. The path commands are:</p><ul><li>, , , </li><li>, , , </li></ul><p>We‚Äôre only interested in drawing line segments for now, so together we‚Äôll explore the first two:  and . MDN romantically describes MoveTo as picking up a drawing instrument, such as a pen or pencil: we aren‚Äôt yet drawing anything, just moving our pen to the point where we want to begin our confession of love.</p><p>We‚Äôll  the coordinates of  represented in the  attribute as :</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;svg viewBox=\"0 0 10 10\"&gt;\n  &lt;path d=\"M2,2\" /&gt;\n&lt;/svg&gt;</code></pre><p>Not surprising then to find that  is akin to putting pen to paper and  from one point to another. Let‚Äôs draw the first segment of our heart by drawing a  with coordinates , represented as  next in the  attribute:</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;svg viewBox=\"0 0 10 10\"&gt;\n  &lt;path d=\"M2,2 L4,4\" /&gt;\n&lt;/svg&gt;</code></pre><p>We‚Äôll add a final line segment as another LineTo  with coordinates , again appended to the  attribute as :</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;svg viewBox=\"0 0 10 10\"&gt;\n  &lt;path d=\"M2,2 L4,4 L6,2\" /&gt;\n&lt;/svg&gt;</code></pre><p>If you stop to preview what we‚Äôve accomplished so far, you may be confused as it renders an upside-down triangle; that‚Äôs not quite a heart yet, Let‚Äôs fix that.</p><p>SVG shapes apply a  by default, which we can remove with :</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;svg viewBox=\"0 0 10 10\"&gt;\n  &lt;path d=\"M2,2 L4,4 L6,2\" fill=\"none\" /&gt;\n&lt;/svg&gt;</code></pre><p>Rather than filling in the shape, instead, let‚Äôs display our line path by adding a , adding color to our heart.</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;svg viewBox=\"0 0 10 10\"&gt;\n  &lt;path \n    d=\"M2,2 L4,4 L6,2\" \n    fill=\"none\" \n    stroke=\"rebeccapurple\" /&gt;\n&lt;/svg&gt;</code></pre><p>Next, add some weight to the stroke by increasing the :</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;svg viewBox=\"0 0 10 10\"&gt;\n  &lt;path \n    d=\"M2,2 L4,4 L6,2\" \n    fill=\"none\" \n    stroke=\"rebeccapurple\" \n    stroke-width=\"4\" /&gt;\n&lt;/svg&gt;</code></pre><p>Finally, apply a  of  (sorry, no time for  jokes) to round off the start and end points of our line path, giving us that classic symbol of love:</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;svg viewBox=\"0 0 10 10\"&gt;\n  &lt;path \n    d=\"M2,2 L4,4 L6,2\" \n    fill=\"none\"\n    stroke=\"rebeccapurple\"\n    stroke-width=\"4\"\n    stroke-linecap=\"round\" /&gt;\n&lt;/svg&gt;</code></pre><p>. Now all that‚Äôs left to do is send it to that special someone. </p>","contentLength":3675,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"It's time to go ESM-only","url":"https://javascriptweekly.com/issues/723","date":1739491200,"author":"","guid":315,"unread":true,"content":"<p>ü§Ø Pfft, vehicle data is a joke without <a href=\"https://javascriptweekly.com/link/165818/rss\">CarsXE</a>. API goes brrrrr. VIN decoding, plate lookup, market value reports. <a href=\"https://javascriptweekly.com/link/165818/rss\">Get&nbsp;Serious!</a></p>","contentLength":130,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Mapped types in TypeScript","url":"https://2ality.com/2025/02/mapped-types-typescript.html","date":1739491200,"author":"Dr. Axel Rauschmayer","guid":223,"unread":true,"content":"<p>A mapped type is a loop over keys that produces an object or tuple type and looks as follows:</p><pre><code>{[]: }\n</code></pre><p>In this blog post, we examine how mapped types work and see examples of using them. Their most importing use cases are transforming objects and mapping tuples.</p>","contentLength":259,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Scroll Driven Animations Notebook","url":"https://css-tricks.com/scroll-driven-animations-notebook/","date":1739453069,"author":"Geoff Graham","guid":261,"unread":true,"content":"<p>One of his latest is a <a href=\"https://nerdy.dev/notebook/scroll-driven-animations.html\" rel=\"noopener\">notebook of scroll-driven animations</a>. They‚Äôre all impressive as heck, as you‚Äôd expect from Adam. But it‚Äôs the simplicity of the first few examples that I love most. Here I am recreating two of the effects in a CodePen, which you‚Äôll want to view in the latest version of Chrome for support.</p><p>This is a perfect example of how a scroll-driven animation is simply a normal CSS animation, just tied to scrolling instead of the document‚Äôs default timeline, which starts on render. We‚Äôre talking about the same set of keyframes:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">@keyframes slide-in-from-left {\n  from {\n    transform: translateX(-100%);\n  }\n}</code></pre><p>All we have to do to trigger scrolling is call the animation and assign it to the timeline:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">li {\n  animation: var(--animation) linear both;\n  animation-timeline: view();\n}</code></pre><p>Notice how there‚Äôs no duration set on the animation. There‚Äôs no need to since we‚Äôre dealing with a scroll-based timeline instead of the document‚Äôs timeline. We‚Äôre using the  function instead of the  function, which acts sort of like JavsScript‚Äôs Intersection Observer where scrolling is based on where the element comes into view and intersects the scrollable area.</p><p>It‚Äôs easy to drop your jaw and ooo and ahh all over Adam‚Äôs demos, especially as they get more advanced. But just remember that we‚Äôre still working with plain ol‚Äô CSS animations. The difference is the timeline they‚Äôre on.</p>","contentLength":1411,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Typecasting and Viewport Transitions in CSS With tan(atan2())","url":"https://css-tricks.com/typecasting-and-viewport-transitions-in-css-with-tanatan2/","date":1739369728,"author":"Juan Diego Rodr√≠guez","guid":260,"unread":true,"content":"<p>We‚Äôve been able to <a href=\"https://css-tricks.com/snippets/css/calculate-viewport-size-in-css/\">get the length of the viewport in CSS</a> since‚Ä¶&nbsp;‚Ä¶&nbsp;2013! Surprisingly, that was more than a decade ago. Getting the viewport width is as easy these days as easy as writing&nbsp;, but what does that translate to, say, in ? What about the other properties, like those that take a percentage, an angle, or an integer?</p><p>Think about changing an element‚Äôs opacity, rotating it, or setting an animation progress based on the screen size. We would first need the&nbsp; ‚Äî which isn‚Äôt currently possible in CSS, right?</p><p>What I am about to say isn‚Äôt a groundbreaking discovery, it was first&nbsp;<a href=\"https://dev.to/janeori/css-type-casting-to-numeric-tanatan2-scalars-582j\" rel=\"noopener\">described amazingly by Jane Ori</a>&nbsp;in 2023. In short, we can use a weird hack (or feature) involving the&nbsp;&nbsp;and&nbsp;&nbsp;trigonometric functions to typecast a length (such as the viewport) to an integer. This opens&nbsp;&nbsp;new layout possibilities, but my first experience was while writing an Almanac entry in which I just wanted to make an image‚Äôs opacity responsive.</p><p>Resize the CodePen and the image will get more transparent as the screen size gets smaller, of course with some boundaries, so it doesn‚Äôt become invisible:</p><p>This is the simplest we can do, but there is a lot more. Take, for example, this demo I did trying to combine many viewport-related effects. Resize the demo and the page feels alive: objects move, the background changes and the text smoothly wraps in place.</p><p>I think it‚Äôs really cool, but I am no designer, so that‚Äôs the best my brain could come up with. Still, it may be too much for an introduction to this typecasting hack, so as a middle-ground, I‚Äôll focus only on the title transition to showcase how all of it works:</p><p>The idea behind this is to convert &nbsp;to radians (a way to write angles) using&nbsp;, and then back to its original value using&nbsp;, with the perk of coming out as an integer. It should be achieved like this:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">:root {\n  --int-width: tan(atan2(100vw, 1px));\n}</code></pre><p>But! Browsers aren‚Äôt too keep on this method, so a lot more wrapping is needed to make it work across all browsers. The following may seem like magic (or nonsense), so I recommend&nbsp;<a href=\"https://dev.to/janeori/css-type-casting-to-numeric-tanatan2-scalars-582j\" rel=\"noopener\">reading Jane‚Äôs post</a>&nbsp;to better understand it, but this way it will work in all browsers:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">@property --100vw {\n  syntax: \"&lt;length&gt;\";\n  initial-value: 0px;\n  inherits: false;\n}\n\n:root {\n  --100vw: 100vw;\n  --int-width: calc(10000 * tan(atan2(var(--100vw), 10000px)));\n}</code></pre><p>Don‚Äôt worry too much about it. What‚Äôs important is our precious&nbsp;&nbsp;variable, which holds the viewport size as an integer!</p><h3>Wideness: One number to rule them all</h3><p>Right now we have the viewport as an integer, but that‚Äôs just the first step. That integer isn‚Äôt super useful by itself. We oughta convert it to something else next since:</p><ul><li>different properties have different units, and</li><li>we want each property to go from a start value to an end value.</li></ul><p>Think about an image‚Äôs  going from&nbsp;&nbsp;to&nbsp;, an object rotating from&nbsp;&nbsp;to&nbsp;,&nbsp;or an element‚Äôs&nbsp;&nbsp;going from&nbsp;&nbsp;to&nbsp;. We want to interpolate between these values as&nbsp;&nbsp;gets bigger, but right now it‚Äôs just an integer that usually ranges between&nbsp;&nbsp;to&nbsp;, which is inflexible and can‚Äôt be easily converted to any of the end values.</p><p>The best solution is to turn&nbsp;&nbsp;into a number that goes from&nbsp;&nbsp;to&nbsp;.&nbsp;So, as the screen gets bigger, we can multiply it by the desired end value. Lacking a better name, I call this ‚Äú0-to-1‚Äù value&nbsp;. If we have , all the last examples become possible:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* If `--wideness is 0.5 */\n\n.element {\n  opacity: var(--wideness); /* is 0.5 */\n  translate: rotate(calc(wideness(400px, 1200px) * 360deg)); /* is 180deg */\n  offset-distance: calc(var(--wideness) * 100%); /* is 50% */\n}</code></pre><p>So&nbsp;&nbsp;is a value between  to  that represents how wide the screen is:  represents when the screen is narrow, and  represents when it‚Äôs wide. But we still have to set what those values mean in the viewport. For example, we may want  to be  and  to be , our viewport transitions will run between these values. Anything below and above is clamped to  and , respectively.</p><p>In CSS, we can write that as follows:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">:root {\n  /* Both bounds are unitless */\n  --lower-bound: 400; \n  --upper-bound: 1200;\n\n  --wideness: calc(\n    (clamp(var(--lower-bound), var(--int-width), var(--upper-bound)) - var(--lower-bound)) / (var(--upper-bound) - var(--lower-bound))\n  );\n}</code></pre><p>Besides easy conversions, the&nbsp;&nbsp;variable lets us define the lower and upper limits in which the transition should run. And what‚Äôs even better, we can set the transition zone at a middle spot so that the user can see it in its full glory. Otherwise, the screen would need to be&nbsp;&nbsp;so that&nbsp;&nbsp;reaches  and who knows how wide to reach .</p><h3>We got the . What‚Äôs next?</h3><p>For starters, the title‚Äôs markup is divided into spans since there is no CSS-way to select specific words in a sentence:</p><pre rel=\"HTML\" data-line=\"\"><code markup=\"tt\">&lt;h1&gt;&lt;span&gt;Resize&lt;/span&gt; and &lt;span&gt;enjoy!&lt;/span&gt;&lt;/h1&gt;</code></pre><p>And since we will be doing the line wrapping ourselves, it‚Äôs important to unset some defaults:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">h1 {\n  position: absolute; /* Keeps the text at the center */\n  white-space: nowrap; /* Disables line wrapping */\n}</code></pre><p>The transition should work without the base styling, but it‚Äôs just too plain-looking. They are below if you want to copy them onto your stylesheet:</p><p>And just as a recap, our current hack looks like this:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">@property --100vw {\n  syntax: \"&lt;length&gt;\";\n  initial-value: 0px;\n  inherits: false;\n}\n\n:root {\n  --100vw: 100vw;\n  --int-width: calc(10000 * tan(atan2(var(--100vw), 10000px)));\n  --lower-bound: 400;\n  --upper-bound: 1200;\n\n  --wideness: calc(\n    (clamp(var(--lower-bound), var(--int-width), var(--upper-bound)) - var(--lower-bound)) / (var(--upper-bound) - var(--lower-bound))\n  );\n}</code></pre><p>OK, enough with the set-up. It‚Äôs time to use our new values and make the viewport transition. We first gotta identify&nbsp;&nbsp;the title should be rearranged for smaller screens: as you saw in the initial demo, the first&nbsp;&nbsp;goes up and right, while the second&nbsp;&nbsp;does the opposite and goes down and left. So, the end position for both spans translates to the following values:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">h1 {\n  span:nth-child(1) {\n    display: inline-block; /* So transformations work */\n    position: relative;\n    bottom: 1.2lh;\n    left: 50%;\n    transform: translate(-50%);\n  }\n\n  span:nth-child(2) {\n    display: inline-block; /* So transformations work */\n    position: relative;\n    bottom: -1.2lh;\n    left: -50%;\n    transform: translate(50%);\n  }\n}</code></pre><p>Before going forward, both formulas are basically the same, but with different signs. We can rewrite them at once bringing one new variable:&nbsp;. It will be either&nbsp;&nbsp;or&nbsp;&nbsp;and define which direction to run the transition:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">h1 {\n  span {\n    display: inline-block;\n    position: relative;\n    bottom: calc(1.2lh * var(--direction));\n    left: calc(50% * var(--direction));\n    transform: translate(calc(-50% * var(--direction)));\n    }\n\n  span:nth-child(1) {\n    --direction: 1;\n  }\n\n  span:nth-child(2) {\n    --direction: -1;\n  }\n}\n</code></pre><p>The next step would be bringing&nbsp;&nbsp;into the formula so that the values change as the screen resizes. However, we can‚Äôt just multiply everything by&nbsp;. Why? Let‚Äôs see what happens if we do:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">span {\n  display: inline-block;\n  position: relative;\n  bottom: calc(var(--wideness) * 1.2lh * var(--direction));\n  left: calc(var(--wideness) * 50% * var(--direction));\n  transform: translate(calc(var(--wideness) * -50% * var(--direction)));\n}</code></pre><p>As you‚Äôll see, everything is backwards! The words wrap when the screen is too wide, and unwrap when the screen is too narrow:</p><p>Unlike our first examples, in which the transition ends as&nbsp;&nbsp;increases from  to , we want to complete the transition as&nbsp;&nbsp;decreases from  to , i.e. while the screen gets smaller the properties need to reach their end value. This isn‚Äôt a big deal, as we can rewrite our formula as a subtraction, in which the subtracting number gets bigger as&nbsp;&nbsp;increases:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">span {\n  display: inline-block;\n  position: relative;\n  bottom: calc((1.2lh - var(--wideness) * 1.2lh) * var(--direction));\n  left: calc((50% - var(--wideness) * 50%) * var(--direction));\n  transform: translate(calc((-50% - var(--wideness) * -50%) * var(--direction)));\n}</code></pre><p>And now everything moves in the right direction while resizing the screen!</p><p>However, you will notice how words move in a straight line and some words overlap while resizing. We can‚Äôt allow this since a user with a specific screen size may get stuck at that point in the transition. Viewport transitions are cool, but not at the expense of ruining the experience for certain screen sizes.</p><p>Instead of moving in a straight line, words should move in a curve such that they pass around the central word. Don‚Äôt worry, making a curve here is easier than it looks: just move the spans twice as fast in the x-axis as they do in the y-axis. This can be achieved by multiplying&nbsp;&nbsp;by , although we have to cap it at  so it doesn‚Äôt overshoot past the final value.</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">span {\n display: inline-block;\n position: relative;\n bottom: calc((1.2lh - var(--wideness) * 1.2lh) * var(--direction));\n left: calc((50% - min(var(--wideness) * 2, 1) * 50%) * var(--direction));\n transform: translate(calc((-50% - min(var(--wideness) * 2, 1) * -50%) * var(--direction)));\n}</code></pre><p>Look at that beautiful curve, just avoiding the central text:</p><h3>This is just the beginning!</h3><p>It‚Äôs surprising how powerful having the viewport as an integer can be, and what‚Äôs even crazier, the last example is one of the most basic transitions you could make with this typecasting hack. Once you do the initial setup, I can imagine a lot more possible transitions, and  is so useful, it‚Äôs like having a new CSS feature right now.</p><p>I expect to see more about ‚ÄúViewport Transitions‚Äù in the future because they do make websites feel more ‚Äúalive‚Äù than adaptive.</p>","contentLength":9641,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"This Week In React #221: State of React, React Router, Rsbuild, ProseMirror, Redux, React Hook Form, Base UI, RSC, React Admin | AI & RN, Expo, Strict DOM, Polygen, Ignite, New Arch, Radon, macOS, Universal RSC, Gesture Handler | TypeScript, Prettier, esbuild...","url":"https://thisweekinreact.com/newsletter/221","date":1739318400,"author":"","guid":316,"unread":true,"content":"<p>Cyril and Matthieu from <a href=\"https://apps.theodo.com/en?utm_source=thisweekinreact\" target=\"_blank\" rel=\"noopener noreferrer\">Theodo Apps</a> here üëã, standing in for Seb to bring you the latest news from React and React Native!</p><p>This week we‚Äôve been carefully reading the <a href=\"https://2024.stateofreact.com/\" target=\"_blank\" rel=\"noopener noreferrer\">State of React 2024</a> survey results, and also found quite a few interesting articles. Things have been quieter when it comes to new releases.</p><p>Check our partner conf <a href=\"https://appjs.co/?utm_source=thisweekinreact\" target=\"_blank\" rel=\"noopener noreferrer\">App.js</a>, happening May 28-30 in üáµüá± Krak√≥w! The biggest React Native and Expo-focused conference gives us a 15% discount with code \"TWIR\". Want to <a href=\"https://docs.google.com/forms/u/1/d/e/1FAIpQLSeKSqxwrTdJJavOFgK-UA25K-hJPmZ5wnZDY7UUo9ULDuckkA/viewform?usp=send_form\" target=\"_blank\" rel=\"noopener noreferrer\">submit a talk</a>? Hurry‚ÄîCFP is closing soon!</p><p>As always, thanks for supporting us on your favorite platform:</p><p>When you wake up in the morning how many different yaml files do you want to manage? With EAS Workflows, you have .</p><p>‚Ä¢ Automate builds‚Ä¢ Run e2e tests‚Ä¢ Submit to stores<p>‚Ä¢ GitHub triggers, lint checks, slack notifications...so much more</p></p><p>With EAS Workflows you can  all your builds/updates/submissions. Package up all the commands in a workflow and go drink a coffee. You deserve it.</p><p>The results of State of React 2024 are out. It is a gold mine of information and we can‚Äôt possibly talk about everything here but here are a few highlights:</p><ul><li>Of the ‚Äúnew‚Äù React features, Server Components are the most popular with 40% of the ~7000 respondents having ‚Äúused it‚Äù, probably thanks to Next.js‚Ä¶</li><li> is the most disliked React API, and is going away!</li><li>Have you heard about React‚Äôs Taint API? It looks like 80% of React devs have not, which is understandable since it‚Äôs experimental.</li><li>There‚Äôs not that much movement in the #1 spot: Next.js, TanStack Query, Axios, Jest, and Zod are still the most frequently used.</li><li>A few rising stars: Zustand and Vitest got more users, TanStack Start is #1 in interest even though almost no one has used it yet.</li></ul><p>Deploying Next.js apps on Vercel is easy, but optimizing hosting costs? That‚Äôs a different story.</p><p>Join Chris Lojniewski and Jakub Dakowicz of Pagepro on  for a deep analysis of Vercel cost optimization strategies. Learn how to identify what drives your costs and reduce them with  like adjusting prefetching to avoid excessive function calls, choosing proper rendering methods, and trimming unnecessary data transfers.</p><p>They‚Äôll also show you how to <strong>minimize reliance on Vercel‚Äôs premium features</strong> with feature externalization - offloading analytics, image optimization, and password protection. Plus, they‚Äôll break down when enterprise pricing is worth considering and when you‚Äôre better off with alternatives. .</p><p>We don't talk too much about LLMs in this newsletter (we guess you already hear about it more than enough üòÖ) but with all the announcements this week we thought it was a good time to give you an update.</p><p>The big news:  to add (React-)Native mobile apps support to Bolt. Right now you can preview your AI-generated apps on the web, but you need to download the code to go further. They plan to add an integration with EAS to deploy to production in the future.</p><p>Some competitors also had things to announce:</p>","contentLength":2956,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Micro Frontends with Angular and Native Federation","url":"https://blog.angular.dev/micro-frontends-with-angular-and-native-federation-7623cfc5f413?source=rss----447683c3d9a3---4","date":1739199751,"author":"Manfred Steyer","guid":442,"unread":true,"content":"<p>Enterprise-scale software systems are often implemented by several cross-functional teams. To enable such teams to provide new features efficiently, it is desirable to minimize the need for coordination between them. This calls for a modularization that verticalizes the system into low-coupled areas individual teams can take care&nbsp;of.</p><p>There are several possibilities for implementing such high-level modules (also called verticals). For instance, they can be implemented using a respective folder structure or in the form of several libraries in a Monorepo. Micro Frontends go one step further and designate a separate application for each vertical. This architectural style promises several advantages, such as a high amount of team autonomy, but it also comes with numerous challenges.</p><p>The first part of this article provides a critical overview of the benefits and drawbacks of Micro Frontends in the space of single-page applications. The second part discusses how such an architecture can be implemented with Native Federation, a community project built upon web standards that provide close integration with the Angular&nbsp;CLI.</p><h3>Motivation Behind Micro Frontends</h3><p>Like Micro Services, Micro Frontends promise several advantages, both technically and with respect to the organization. As applying Micro Frontend architectures results in several smaller applications, testing, performance tuning, and isolating faults in one part of the overarching system becomes more effortless, according to several&nbsp;sources.</p><p>However, the increased team autonomy was the main reason for applying this architectural style in the numerous cases I was involved in as a consultant. Individual teams are not blocked by waiting for other teams and can deploy separately anytime. This might not be a significant concern in a vast number of projects. Still, as soon as we talk about multi-team projects in a corporate environment with long communication paths and decision times, this aspect quickly becomes vital for the project‚Äôs success.</p><p>Teams can also make their own decisions that best fit their goals‚Ää‚Äî‚Ääarchitecturally and technology-wise. Mixing multiple client-side frameworks in the same application is considered an anti-pattern and should be avoided. However, it can help to create a migration path over to a new stack in the long run. The concern in corporate environments is that we find software solutions that usually outlive the average technology stack</p><p>Since Micro Frontends result in separate build processes, combining them with incremental builds, where only changed applications need to be rebuilt, has a massive potential for build-time improvements. For instance, the well-known <a href=\"https://nx.dev/\">Nx build system</a> provides this option. Interestingly, this feature can also be used without applying other aspects such as aligning teams with individual applications or separate deployments. There is debate about whether leveraging this tempting option automatically leads to micro frontend architectures.</p><p>A system consisting of several smaller applications can provide further organizational advantages: It‚Äôs easier to onboard new members and scale the development by adding further micro frontends. Team autonomy also leads to faster release&nbsp;cycles.</p><h3>Challenges to keep in&nbsp;mind</h3><p>Every architectural decision has consequences that need to be evaluated, and Micro Frontends are no exception. Besides the positive consequences outlined above, there are also several negative ones to consider.</p><p>For instance, individually developed Micro Frontends can diverge in UI/UX, leading to an inconsistent appearance. Also, loading several applications increases the number of bundles that need to be downloaded, adversely affecting loading times and increasing the memory pressure.</p><p>Splitting an application into low-coupled parts might be a best practice in general. However, it is often hard to define the boundaries between verticals clearly enough to implement them as individual applications. Also, while having several small applications at first glance simplifies the implementation, integrating them into an overarching solution brings additional complexity.</p><p>This leads to one of the biggest challenges I have seen in practice: we are moving away from a compile-time integration towards a runtime integration. This has severe consequences because we cannot easily foresee problems that might arise when individually developed and deployed applications start interacting at runtime. Besides the chance of technical conflicts, we also have to see that the current generation of SPA frameworks has not been built with such an operation mode in&nbsp;mind.</p><p>Instead, modern SPA frameworks, especially Angular, have been developed to focus on compile time optimizations. A powerful compiler leverages type checks to identify technical conflicts and emits efficient source code optimized for tree-shaking. Furthermore, the CLI in the Angular space provides a highly optimized build process. An off-label usage necessary for implementing Micro Frontends undermines some of these achievements.</p><h3>Angular Does Not Officially Support Micro Frontends</h3><p>For all the outlined reasons, the Angular team recommends checking if alternatives, like implementing the individual verticals in Monorepos, which can be compiled together, are suitable. For instance, Google adopted this approach years ago and manages all its products and libraries in a <a href=\"https://dl.acm.org/doi/10.1145/2854146\">single Monorepo</a>.</p><p>Of course, there are also ways to compensate for the disadvantages outlined here, and some of them, like establishing a design system to help with a consistent UI/UX or lazy loading individual system parts, might be needed in general. More details on such compensation strategies can be found in this <a href=\"https://www.angulararchitects.io/blog/consequences-of-micro-frontends-survey-results\">survey</a> of more than 150 Micro Frontend practitioners.</p><p>All architectural decisions have benefits and drawbacks and should be evaluated with those considerations if you are going to implement a solution. If such an evaluation reveals that Micro Frontends provide more advantages than alternatives for achieving your very goals, the following sections provide you a well-lit path for implementing this architectural pattern with&nbsp;Angular.</p><h3>Micro Frontends with Federation</h3><p><a href=\"https://module-federation.io/\">Module Federation</a> is a popular technology for implementing Micro Frontends and sharing dependencies. Shipped initially with webpack 5, it comes with a tooling-agnostic runtime and provides compile-time integration into  and . Besides the usage of the vite dev server, these technologies are currently not supported by the Angular CLI. However, promising community solutions like <a href=\"https://angular-rspack.dev/\"></a>and <a href=\"https://analogjs.org/\">AnalogJS</a> allow them to be used with Angular. <a href=\"https://nx.dev/\">Nx</a> and my <a href=\"https://www.npmjs.com/package/@angular-architects/module-federation\">CLI-plugin</a> provide an effortless integration.</p><p>Module Federation enables an application to load parts of other separately built and deployed applications lazily. The loading application is referred to as the host; the integrated ones are called&nbsp;remotes:</p><p>Federation, if permitted by the library version, can share dependencies like Angular or RxJS between the host and remotes. There are several configuration options for <a href=\"https://www.angulararchitects.io/blog/getting-out-of-version-mismatch-hell-with-module-federation/\">preventing version mismatches.</a> Since MF can only decide which dependencies to share at runtime, tree-shaking for shared parts is not possible.</p><p>To inform the host about the remotes and their shared dependencies, Module Federation creates a metadata file, the so-called remote entry, during the build. This file needs to be loaded into the&nbsp;host.</p><p>To fully decouple the idea of Federation from specific bundlers, I started the project <a href=\"https://www.npmjs.com/package/@angular-architects/native-federation\">Native Federation</a> several years ago. Its API surface is very similar to that of Module Federation. The focus is on portability and standards like ECMAScript modules and Import Maps. Its compile time acts as a wrapper around existing bundlers. For the communication with the bundler, it uses an exchangeable adapter:</p><p>The integration into the Angular CLI directly delegates to Angular‚Äôs  that leverages the fast bundler esbuild, and is the foundation for several current features like partial hydration. Because of its architecture, Native Federation can also be ported to further builders or other innovations the CLI might provide in the long&nbsp;run.</p><p>For integrating Micro Frontends built with Angular‚Äôs webpack-based builder, there is a <a href=\"https://www.angulararchitects.io/blog/combining-native-federation-and-module-federation/\">bridging solution</a> allowing the loading of such remotes into a Native Federation host. This solution enables the gradual adoption of the CLI‚Äôs new  and permits the sharing of dependencies between the two kinds of Federation. One of the features added recently is support for <a href=\"https://www.angulararchitects.io/blog/ssr-and-hydration-with-native-federation-for-angular/\">SSR and Hydration</a>, which is vital for performance-critical applications like public portals and web&nbsp;shops.</p><p>Native Federation for Angular is close to the CLI‚Äôs , but its compilation mode is for shared dependencies differs. While it works well for packages that align with <a href=\"https://angular.dev/tools/libraries/angular-package-format\">Angular‚Äôs Package Format</a>, which is the case for all libraries built with the CLI, other libraries might provide some challenges, especially older ones that still use CommonJS or older conventions for providing metadata.</p><h3>Using Native Federation in&nbsp;Angular</h3><p>For the setup Native Federation provides a schematic:</p><pre>ng add @angular-architects/native-federation --project mfe1 --port 4201 --type remote</pre><p>The switch  defines the kind of the application. Possible options are , , and . The latter is a host configured with a configuration file (federation manifest) during application start. This manifest informs the application of the locations of the remotes and can be switched out by another manifest during deployment:</p><pre>{    \"mfe1\" : \"http://localhost:4201/remoteEntry.json\"</pre><p>The key, in this case, is a short name the host uses to refer to the Micro Frontend. The value is the location of the remote entry with the metadata mentioned above. Alternatively, the manifest can be replaced by a service that informs the host of the current location of all deployed remotes and acts as a Micro Frontend registry.</p><p>The schematic configures the Native Federation builder delegation to the  and creates a configuration file :</p><pre>const { withNativeFederation, shareAll }     = require('@angular-architects/native-federation/config');<p>module.exports = withNativeFederation({</p>    './Component': './projects/mfe1/src/app/app.component.ts',    ...shareAll({}),    'rxjs/ajax',    'rxjs/testing',    // Add further packages you don't need at runtime</pre><p>The configuration assigns a unique name to the remote or host and defines which dependencies to share. Instead of providing an exhaustive list of all the dependencies to share, the configuration uses the helper function , which adds all dependencies found in the project‚Äôs . The skip list is used to opt out of sharing some of them or their secondary entry&nbsp;points.</p><p>Remotes also define exposed EcmaScript modules that can be loaded into the shell. For this, the  node maps the paths of the modules to short names such as&nbsp; in the example&nbsp;shown.</p><p>The schematic also adds code to initialize Native Federation to the . For the host, this code points to the federation manifest:</p><pre>import { initFederation } from '@angular-architects/native-federation';<p>initFederation('federation.manifest.json')</p>  .catch(err =&gt; console.error(err))<p>  .then(_ =&gt; import('./bootstrap'))</p>  .catch(err =&gt; console.error(err));</pre><p>After initializing federation, the file , also created by the schematic, is loaded. It contains the usual code for bootstrapping Angular, e.g., via  when the application uses Standalone Components.</p><p>To load a component or routing configuration exposed by a remote, traditional lazy loading is combined with Native Federation‚Äôs  function:</p><pre>import { loadRemoteModule } from '@angular-architects/native-federation';<p>export const APP_ROUTES: Routes = [</p>  [...]    path: 'flights',      loadRemoteModule('mfe1', './Component').then((m) =&gt; m.AppComponent),];</pre><p>Here,  is the key defined in the manifest, and&nbsp; points to the respective exposed module in the remote‚Äôs federation configuration.</p><p>More information on Native Federation can be found in this <a href=\"https://www.angulararchitects.io/blog/micro-frontends-with-modern-angular-part-1-standalone-and-esbuild/\">blog article</a> and in the project‚Äôs <a href=\"https://www.npmjs.com/package/@angular-architects/native-federation\">readme</a>, which also links to a tutorial.</p><p>Micro Frontends promise significant advantages for enterprise-scale applications, such as enhanced team autonomy and independent deployment. These benefits make this architectural style particularly appealing in multi-team corporate environments where streamlined communication and rapid development cycles are critical. Additionally, they support gradual migration to new technologies and optimize build times by leveraging incremental builds.</p><p>However, these advantages come with trade-offs. Micro Frontends can lead to inconsistent UI/UX, increased load times, and complex runtime integrations. Defining clear vertical boundaries and managing inter-application communication add to the challenge. Furthermore, frameworks like Angular, designed for compile-time optimization, face limitations in runtime integration scenarios. The Angular team, therefore, recommends alternatives such as splitting an application into libraries managed within a Monorepo, which aligns better with Angular‚Äôs strengths in type safety and efficient compilation.</p><p>Module Federation has emerged as a popular solution to address some challenges by enabling lazy loading and dependency sharing. Native Federation builds on these concepts with a focus on standards and portability. It provides a seamless integration into the Angular CLI and its performant esbuild-based , which is also the foundation for advanced features like SSR and hydration.</p><p><em>Together with this team at </em><a href=\"http://www.angulararchitects.io\"></a>,<em> Manfred Steyer helps companies around the globe establish maintainable Angular-based Architectures. He is a trainer, consultant, and Google Developer Expert (GDE) and writes for O‚ÄôReilly, the German Java Magazin, windows.developer, and Heise Developer. Furthermore, he regularly speaks at conferences.</em></p><img src=\"https://medium.com/_/stat?event=post.clientViewed&amp;referrerSource=full_rss&amp;postId=7623cfc5f413\" width=\"1\" height=\"1\" alt=\"\">","contentLength":13726,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Organizing Design System Component Patterns With CSS Cascade Layers","url":"https://css-tricks.com/organizing-design-system-component-patterns-with-css-cascade-layers/","date":1739196412,"author":"Ryan Trimble","guid":259,"unread":true,"content":"<p>I‚Äôm trying to come up with ways to make components more customizable, more efficient, and easier to use and understand, and I want to describe a pattern I‚Äôve been leaning into using <a href=\"https://css-tricks.com/css-cascade-layers/\">CSS Cascade Layers</a>.</p><p>I enjoy organizing code and find cascade layers a fantastic way to organize code explicitly as the cascade looks at it. The neat part is, that as much as it helps with ‚Äútop-level‚Äù organization, cascade layers can be nested, which allows us to author more precise styles based on the cascade.</p><p>The only downside here is your imagination, nothing stops us from over-engineering CSS. And to be clear, you may very well consider what I‚Äôm about to show you as a form of over-engineering. I think I‚Äôve found a balance though, keeping things simple yet organized, and I‚Äôd like to share my findings.</p><p>Let‚Äôs explore a pattern for writing components in CSS using a button as an example. Buttons are one of the more popular components found in just about every component library. There‚Äôs good reason for that popularity because buttons can be used for a variety of use cases, including:</p><ul><li>performing actions, like opening a drawer,</li><li>navigating to different sections of the UI, and</li><li>holding some form of state, such as  or .</li></ul><p>And buttons come in several different flavors of markup, like , , and . There are even more ways to make buttons than that, if you can believe it.</p><p>On top of that, different buttons perform different functions and are often styled accordingly so that a button for one type of action is distinguished from another. Buttons also respond to state changes, such as when they are hovered, active, and focused. If you have ever written CSS with the <a href=\"https://css-tricks.com/bem-101/\">BEM syntax</a>, we can sort of think  within the context of cascade layers.</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">.button {}\n.button-primary {}\n.button-secondary {}\n.button-warning {}\n/* etc. */</code></pre><p>Okay, now, let‚Äôs write some code. Specifically, let‚Äôs create a few different types of buttons. We‚Äôll start with a  class that we can set on any element that we want to be styled as, well, a button! We already know that buttons come in different flavors of markup, so a generic  class is the most reusable and extensible way to select one or all of them.</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">.button {\n  /* Styles common to all buttons */\n}</code></pre><p>This is where we can insert our very first cascade layer! Remember, the reason we want a cascade layer in the first place is that it allows us to set the CSS Cascade‚Äôs reading order when evaluating our styles. We can tell CSS to evaluate one layer first, followed by another layer, then another ‚Äî all according to the order we want. This is an incredible feature that grants us superpower control over which styles ‚Äúwin‚Äù when applied by the browser.</p><p>We‚Äôll call this layer  because, well, buttons are a type of component. What I like about this naming is that it is generic enough to support other components in the future as we decide to expand our design system. It scales with us while maintaining a nice separation of concerns with other styles we write down the road that maybe aren‚Äôt specific to components.</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Components top-level layer */\n@layer components {\n  .button {\n    /* Styles common to all buttons */\n  }\n}</code></pre><p>Here is where things get a little weird. Did you know you can  cascade layers  classes? That‚Äôs totally a thing. So, check this out, we can introduce a new layer <em>inside the  class that‚Äôs already inside its own layer</em>. Here‚Äôs what I mean:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Components top-level layer */\n@layer components {\n\n  .button {\n    /* Component elements layer */\n    @layer elements {\n      /* Styles */\n    }\n  }\n}</code></pre><p>This is how the browser interprets that layer within a layer at the end of the day:</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">@layer components {\n  @layer elements {\n    .button {\n      /* button styles... */\n    }\n  }\n}</code></pre><p>So far, we‚Äôve established a  class inside of a cascade layer that‚Äôs designed to hold any type of  in our design system. Inside that  is another cascade layer, this one for selecting the different types of buttons we might encounter in the markup. We talked earlier about buttons being , , or  and this is how we can individually select style each type.</p><p>We can use the  pseudo-selector function as that is akin to saying, ‚ÄúIf this  an  element, then apply these styles.‚Äù</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Components top-level layer */\n@layer components {\n  .button {\n    /* Component elements layer */\n    @layer elements {\n      /* styles common to all buttons */\n\n      &amp;:is(a) {\n        /* &lt;a&gt; specific styles */\n      }\n\n      &amp;:is(button) {\n        /* &lt;button&gt; specific styles */\n      }\n\n      /* etc. */\n    }\n  }\n}</code></pre><h3>Defining default button styles</h3><p>I‚Äôm going to fill in our code with the common styles that apply to all buttons. These styles sit at the top of the  layer so that they are applied to any and all buttons, regardless of the markup. Consider them default button styles, so to speak.</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Components top-level layer */\n@layer components {\n  .button {\n    /* Component elements layer */\n    @layer elements {\n      background-color: darkslateblue;\n      border: 0;\n      color: white;\n      cursor: pointer;\n      display: grid;\n      font-size: 1rem;\n      font-family: inherit;\n      line-height: 1;\n      margin: 0;\n      padding-block: 0.65rem;\n      padding-inline: 1rem;\n      place-content: center;\n      width: fit-content;\n    }\n  }\n}</code></pre><h3>Defining button state styles</h3><p>What should our default buttons do when they are hovered, clicked, or in focus? These are the different  that the button might take when the user interacts with them, and we need to style those accordingly.</p><p>I‚Äôm going to create a new cascade sub-layer directly under the  sub-layer called, creatively, :</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Components top-level layer */\n@layer components {\n  .button {\n    /* Component elements layer */\n    @layer elements {\n      /* Styles common to all buttons */\n    }\n\n    /* Component states layer */\n    @layer states {\n      /* Styles for specific button states */\n    }\n  }\n}</code></pre><p>Pause and reflect here. What states should we target? What do we want to change for each of these states?</p><p>Some states may share similar property changes, such as  and  having the same background color. Luckily, CSS gives us the tools we need to tackle such problems, using the  function to group property changes based on the state. Why  instead of ? <strong> comes with zero specificity</strong>, meaning it‚Äôs a lot easier to override than , which takes the specificity of the element with the highest specificity score in its arguments. Maintaining low specificity is a virtue when it comes to writing scalable, maintainable CSS.</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Component states layer */\n@layer states {\n  &amp;:where(:hover, :focus-visible) {\n    /* button hover and focus state styles */\n  }\n}</code></pre><p>But how do we update the button‚Äôs styles in a  way? What I mean by that is how do we make sure that the button  like it‚Äôs hovered or in focus? We could just slap a new background color on it, but ideally, the color should be related to the  set in the  layer.</p><p>So, let‚Äôs refactor things a bit. Earlier, I set the  element‚Äôs  to . I want to reuse that color, so it behooves us to make that into a CSS variable so we can update it once and have it apply everywhere. Relying on variables is yet another virtue of writing scalable and maintainable CSS.</p><p>I‚Äôll create a new variable called <code>--button-background-color</code> that is initially set to  and then set it on the default button styles:</p><pre rel=\"CSS\" data-line=\"3,5\"><code markup=\"tt\">/* Component elements layer */\n@layer elements {\n  --button-background-color: darkslateblue;\n\n  background-color: var(--button-background-color);\n  border: 0;\n  color: white;\n  cursor: pointer;\n  display: grid;\n  font-size: 1rem;\n  font-family: inherit;\n  line-height: 1;\n  margin: 0;\n  padding-block: 0.65rem;\n  padding-inline: 1rem;\n  place-content: center;\n  width: fit-content;\n}</code></pre><p>Now that we have a color stored in a variable, we can set that same variable on the button‚Äôs hovered and focused states in our other layer, using the relatively new <a href=\"https://css-tricks.com/color-mixing-with-animation-composition/\"> function</a> to convert  to a lighter color when the button is hovered or in focus.</p><p>Back to our  layer! We‚Äôll first mix the color in a new CSS variable called :</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Component states layer */\n@layer states {\n  &amp;:where(:hover, :focus-visible) {\n    /* custom property only used in state */\n    --state-background-color: color-mix(\n      in srgb, \n      var(--button-background-color), \n      white 10%\n    );\n  }\n}</code></pre><p>We can then apply that color as the background color by updating the  property.</p><pre rel=\"CSS\" data-line=\"12\"><code markup=\"tt\">/* Component states layer */\n@layer states {\n  &amp;:where(:hover, :focus-visible) {\n    /* custom property only used in state */\n    --state-background-color: color-mix(\n      in srgb, \n      var(--button-background-color), \n      white 10%\n    );\n\n    /* applying the state background-color */\n    background-color: var(--state-background-color);\n  }\n}</code></pre><h3>Defining modified button styles</h3><p>Along with  and  layers, you may be looking for some sort of variation in your components, such as . That‚Äôs because not all buttons are going to look like your default button. You might want one with a green background color for the user to confirm a decision. Or perhaps you want a red one to indicate danger when clicked. So, we can take our existing default button styles and modify them for those specific use cases </p><p>If we think about the order of the cascade ‚Äî always flowing from top to bottom ‚Äî we don‚Äôt want the modified styles to affect the styles in the states layer we just made. So, let‚Äôs add a new  layer in between  and :</p><pre rel=\"CSS\" data-line=\"10,11,12,13\"><code markup=\"tt\">/* Components top-level layer */\n@layer components {\n\n  .button {\n  /* Component elements layer */\n  @layer elements {\n    /* etc. */\n  }\n\n  /* Component modifiers layer */\n  @layer modifiers {\n    /* new layer! */\n  }\n\n  /* Component states layer */\n  @layer states {\n    /* etc. */\n  }\n}</code></pre><p>Similar to how we handled , we can now update the <code>--button-background-color</code> variable for each button modifier. We could modify the styles further, of course, but we‚Äôre keeping things fairly straightforward to demonstrate how this system works.</p><p>We‚Äôll create a new class that modifies the  of the default button from  to . Again, we can rely on the  selector because we want the added specificity in this case. That way, we override the default button style with the modifier class. We‚Äôll call this class  (green is a ‚Äúsuccessful‚Äù color) and feed it to :</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Component modifiers layer */\n@layer modifiers {\n  &amp;:is(.success) {\n    --button-background-color: darkgreen;\n  }\n}</code></pre><p>If we add the  class to one of our buttons, it becomes  instead  which is exactly what we want. And since we already do some -ing in the  layer, we‚Äôll automatically inherit those hover and focus styles, meaning  is lightened in those states.</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Components top-level layer */\n@layer components {\n  .button {\n    /* Component elements layer */\n    @layer elements {\n      --button-background-color: darkslateblue;\n\n      background-color: var(--button-background-color);\n      /* etc. */\n\n    /* Component modifiers layer */\n    @layer modifiers {\n      &amp;:is(.success) {\n        --button-background-color: darkgreen;\n      }\n    }\n\n    /* Component states layer */\n    @layer states {\n      &amp;:where(:hover, :focus) {\n        --state-background-color: color-mix(\n          in srgb,\n          var(--button-background-color),\n          white 10%\n        );\n\n        background-color: var(--state-background-color);\n      }\n    }\n  }\n}</code></pre><p>We can refactor any CSS property we need to modify into a CSS custom property, which gives us a lot of room for customization.</p><pre rel=\"CSS\" data-line=\"\"><code markup=\"tt\">/* Components top-level layer */\n@layer components {\n  .button {\n    /* Component elements layer */\n    @layer elements {\n      --button-background-color: darkslateblue;\n\n      --button-border-width: 1px;\n      --button-border-style: solid;\n      --button-border-color: transparent;\n      --button-border-radius: 0.65rem;\n\n      --button-text-color: white;\n\n      --button-padding-inline: 1rem;\n      --button-padding-block: 0.65rem;\n\n      background-color: var(--button-background-color);\n      border: \n        var(--button-border-width) \n        var(--button-border-style) \n        var(--button-border-color);\n      border-radius: var(--button-border-radius);\n      color: var(--button-text-color);\n      cursor: pointer;\n      display: grid;\n      font-size: 1rem;\n      font-family: inherit;\n      line-height: 1;\n      margin: 0;\n      padding-block: var(--button-padding-block);\n      padding-inline: var(--button-padding-inline);\n      place-content: center;\n      width: fit-content;\n    }\n\n    /* Component modifiers layer */\n    @layer modifiers {\n      &amp;:is(.success) {\n        --button-background-color: darkgreen;\n      }\n\n      &amp;:is(.ghost) {\n        --button-background-color: transparent;\n        --button-text-color: black;\n        --button-border-color: darkslategray;\n        --button-border-width: 3px;\n      }\n    }\n\n    /* Component states layer */\n    @layer states {\n      &amp;:where(:hover, :focus) {\n        --state-background-color: color-mix(\n          in srgb,\n          var(--button-background-color),\n          white 10%\n        );\n\n        background-color: var(--state-background-color);\n      }\n    }\n  }\n}</code></pre><p>P.S. Look closer at that demo and check out how I‚Äôm adjusting the button‚Äôs background using  ‚Äî then go read Sara Joy‚Äôs <a href=\"https://css-tricks.com/come-to-the-light-dark-side/\">‚ÄúCome to the  Side‚Äù</a> for a thorough rundown of how that works!</p><p>What do you think? Is this something you would use to organize your styles? I can see how creating a system of cascade layers could be overkill for a small project with few components. But even a little toe-dipping into things like we just did illustrates how much power we have when it comes to managing ‚Äî and even taming ‚Äî the CSS Cascade. Buttons are deceptively complex but we saw how few styles it takes to handle everything from the default styles to writing the styles for their states and modified versions.</p>","contentLength":13732,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"Make Any File a Template Using This Hidden macOS Tool","url":"https://css-tricks.com/make-any-file-a-template-using-this-hidden-macos-tool/","date":1739195640,"author":"Geoff Graham","guid":258,"unread":true,"content":"<blockquote><p>Stationery Pad is a handy way to nix a step in your workflow if you regularly use document templates on your Mac. The long-standing Finder feature essentially tells a file‚Äôs parent application to open a copy of it by default, ensuring that the original file remains unedited.</p></blockquote><p>This works for any kind of file, including HTML, CSS, JavaScriprt, or what have you. You can get there with + or right-click and select ‚ÄúGet info.‚Äù</p>","contentLength":428,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"TypeScript: extracting parts of composite types via infer","url":"https://2ality.com/2025/02/typescript-infer-operator.html","date":1739145600,"author":"Dr. Axel Rauschmayer","guid":222,"unread":true,"content":"<p>In this blog post, we explore how we can extract parts of composite types via the  operator.</p><p>It helps if you are loosely familiar with conditional types. You can check out section <a href=\"https://exploringjs.com/tackling-ts/ch_computing-with-types-overview.html#conditional-types\">‚ÄúConditional types‚Äù</a> in ‚ÄúTackling TypeScript‚Äù&nbsp;to read up on them.</p>","contentLength":252,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null},{"title":"TypeDoc: testing code examples in doc comments","url":"https://2ality.com/2025/02/testing-typedoc-examples.html","date":1739059200,"author":"Dr. Axel Rauschmayer","guid":221,"unread":true,"content":"<p>TypeDoc now lets us refer to parts of other files via . In this blog post, I explain how that works and why it‚Äôs useful.</p>","contentLength":122,"flags":null,"enclosureUrl":"","enclosureMime":"","commentsUrl":null}],"tags":["frontend"]}